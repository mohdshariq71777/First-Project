<app-header></app-header>
<div class="container-fluid minhyt70 pb-3">
  <div class="row gx-3 gy-2">
    <div class="col-sm-12">
      <div class="row mt-2 p-2 bg-light m-0 align-items-center">
        <div class="col-sm-1">
          <h6 class="mb-0">Filter by :</h6>
        </div>
        <div class="col-sm-11">
          <ul
            class="nav nav-tabs border-0 mb-0 filters"
            id="myTab"
            role="tablist"
          >
            <li class="nav-item" role="presentation">
              <button
                class="nav-link active"
                id="productType-tab"
                data-bs-toggle="tab"
                data-bs-target="#productType"
                type="button"
                role="tab"
              >
                Product Type
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button
                class="nav-link"
                id="size-tab"
                data-bs-toggle="tab"
                data-bs-target="#size"
                type="button"
                role="tab"
                aria-controls="size"
                aria-selected="false"
              >
                Size
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button
                class="nav-link"
                id="price-tab"
                data-bs-toggle="tab"
                data-bs-target="#price"
                type="button"
                role="tab"
                aria-controls="price"
                aria-selected="false"
              >
                Price
              </button>
            </li>
          </ul>
        </div>
        <div class="col-sm-12 px-5 pt-2">
          <div class="tab-content" id="myTabContent">
            <div
              class="tab-pane fade show active"
              id="productType"
              role="tabpanel"
            >
              <div class="row">
                <div class="col-sm-1">
                  <div class="form-check">
                    <input
                      name="productType"
                      #tee
                      id="tee"
                      class="form-check-input"
                      type="radio"
                    />
                    <label class="form-check-label" for="tee"> T-Shirts </label>
                  </div>
                </div>
                <div class="col-sm-1">
                  <div class="form-check">
                    <input
                      name="productType"
                      #shoes
                      id="shoe"
                      class="form-check-input"
                      type="radio"
                    />
                    <label class="form-check-label" for="shoe"> Shoe </label>
                  </div>
                </div>
                <div class="col-sm-2">
                  <div class="form-check">
                    <input
                      name="productType"
                      #allTypes
                      id="allTypes"
                      class="form-check-input"
                      type="radio"
                      checked
                    />
                    <label class="form-check-label" for="allTypes">
                      All Types
                    </label>
                  </div>
                </div>
                <div class="col-sm-2">
                  <button
                    class="btn btn-sm btn-success"
                    (click)="fByType(tee, shoes, allTypes)"
                  >
                    Submit
                  </button>
                </div>
              </div>
            </div>
            <div
              class="tab-pane fade"
              id="size"
              role="tabpanel"
              aria-labelledby="size-tab"
            >
              <div class="row">
                <div class="col-sm-1">
                  <div class="form-check">
                    <input
                      name="sizeFilters"
                      #xl
                      id="xl"
                      class="form-check-input"
                      type="radio"
                    />
                    <label class="form-check-label" for="xl"> X Large </label>
                  </div>
                </div>
                <div class="col-sm-1">
                  <div class="form-check">
                    <input
                      name="sizeFilters"
                      #l
                      id="l"
                      class="form-check-input"
                      type="radio"
                    />
                    <label class="form-check-label" for="l"> Large </label>
                  </div>
                </div>
                <div class="col-sm-1">
                  <div class="form-check">
                    <input
                      name="sizeFilters"
                      #m
                      id="m"
                      class="form-check-input"
                      type="radio"
                    />
                    <label class="form-check-label" for="m"> Medium </label>
                  </div>
                </div>
                <div class="col-sm-1">
                  <div class="form-check">
                    <input
                      name="sizeFilters"
                      #allSizes
                      id="allSize"
                      class="form-check-input"
                      type="radio"
                      checked
                    />
                    <label class="form-check-label" for="allSize"> All </label>
                  </div>
                </div>
                <div class="col-sm-2">
                  <button
                    class="btn btn-sm btn-success"
                    (click)="fBySizes(xl, l, m, allSizes)"
                  >
                    Submit
                  </button>
                </div>
              </div>
            </div>
            <div
              class="tab-pane fade"
              id="price"
              role="tabpanel"
              aria-labelledby="price-tab"
            >
              <div class="row">
                <div class="col-sm-2">
                  <div class="form-check">
                    <input
                      #u5k
                      class="form-check-input"
                      type="radio"
                      name="priceFilter"
                      id="u5k"
                      value="u5k"
                    />
                    <label class="form-check-label" for="u5k"> Under 5K </label>
                  </div>
                </div>
                <div class="col-sm-2">
                  <div class="form-check">
                    <input
                      #u10k
                      class="form-check-input"
                      type="radio"
                      name="priceFilter"
                      id="u10k"
                      value="u10k"
                    />
                    <label class="form-check-label" for="u10k">
                      Under 10K
                    </label>
                  </div>
                </div>
                <div class="col-sm-2">
                  <div class="form-check">
                    <input
                      #a10k
                      class="form-check-input"
                      type="radio"
                      name="priceFilter"
                      id="a10k"
                      value="a10k"
                    />
                    <label class="form-check-label" for="a10k">
                      Above 10K
                    </label>
                  </div>
                </div>
                <div class="col-sm-1">
                  <div class="form-check">
                    <input
                      #unc
                      class="form-check-input"
                      type="radio"
                      name="priceFilter"
                      id="unc"
                      value="unc"
                      checked
                    />
                    <label class="form-check-label" for="unc"> All </label>
                  </div>
                </div>
                <div class="col-sm-2">
                  <button
                    class="btn btn-sm btn-success"
                    (click)="fByPrice(u5k, u10k, a10k, unc)"
                  >
                    Submit
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-3 col-6" *ngFor="let pro of uncat; let i = index">
      <div class="card border-0">
        <a
          title="{{ pro.desc }}"
          href="javascript:void(0)"
          (click)="detailsPage(pro)"
          routerLink="/product-details"
          ><img
            src="../../assets/images/details_slider/{{ pro.imgs[0] }}"
            class="img-fluid"
            alt=""
        /></a>
        <div class="card-body border-0 text-center">
          <h6 class="card-title mb-1">{{ pro.desc }}</h6>
          <p class="text-center mb-0">
            <span class="text-decoration-line-through text-secondary mrPrice">{{
              pro.showMrp | currency : "INR"
            }}</span>
            <span class="productPrice">
              {{ pro.showPrice | currency : "INR" }}</span
            >
            <span class="text-danger font600"> {{ pro.offer }}% off</span>
          </p>

          <p class="mb-1">
            <span class="fw-bold font9">Available Sizes :</span>
            <span class=""> {{ pro.TitleSizes }}</span>
          </p>
          <ul
            class="nav nav-tabs mb-0 border-0 sizes justify-content-center"
            id="myTab"
            role="tablist"
          >
            <li class="nav-item" role="presentation">
              <button
                class="nav-link navLinkAll border-0 active"
                id="{{ 'xl' + i }}"
                (click)="filterSize(pro, 'xl')"
                data-bs-toggle="tab"
                data-bs-target="#home"
                type="button"
                role="tab"
                aria-controls="home"
                aria-selected="true"
              >
                XL
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button
                (click)="filterSize(pro, 'l')"
                class="nav-link navLinkAll border-0"
                id="{{ 'l' + i }}"
                data-bs-toggle="tab"
                data-bs-target="#profile"
                type="button"
                role="tab"
                aria-controls="profile"
                aria-selected="false"
              >
                L
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button
                (click)="filterSize(pro, 'm')"
                class="nav-link navLinkAll border-0"
                id="{{ 'm' + i }}"
                data-bs-toggle="tab"
                data-bs-target="#contact"
                type="button"
                role="tab"
                aria-controls="contact"
                aria-selected="false"
              >
                M
              </button>
            </li>
          </ul>
          <button
            class="mt-3 btn btn-sm btn-theme1 px-3 py-1"
            data-bs-toggle="offcanvas"
            data-bs-target="#offcanvasExample"
            (click)="addToCart(pro)"
          >
            Add to Cart
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="row gx-3 gy-2">
    <div class="col-sm-12 text-center">
      <h5 class="mt-3 font600 text-danger">Top Products</h5>
    </div>
    <div
      class="col-sm-3 col-6"
      *ngFor="let topPro of topProducts; let i = index"
    >
      <div class="card border-0">
        <a
          title="{{ topPro.desc }}"
          href="javascript:void(0)"
          (click)="detailsPage(topPro)"
          routerLink="/product-details"
        >
          <img
            src="../../assets/images/details_slider/{{ topPro.imgs[0] }}"
            class="img-fluid"
            alt=""
        /></a>
        <div class="card-body border-0 text-center">
          <h6 class="card-title mb-1">{{ topPro.desc }}</h6>
          <p class="text-center mb-0">
            <span class="text-decoration-line-through text-secondary mrPrice">
              {{ topPro.showTopMrp | currency : "INR" }}</span
            >
            <span class="productPrice">
              {{ topPro.showTopPrice | currency : "INR" }}</span
            >
            <span class="text-danger font600"> {{ topPro.offer }}% off</span>
          </p>
          <p class="mb-1">
            <span class="fw-bold font9">Available Sizes :</span>
            <span class=""> {{ topPro.TitleSizes }}</span>
          </p>
          <ul
            class="nav nav-tabs mb-0 border-0 sizes justify-content-center"
            id="myTab"
            role="tablist"
          >
            <li class="nav-item" role="presentation">
              <button
                class="nav-link navLinkAll border-0 active"
                id="{{ 'xl' + i }}"
                (click)="filterSizeTop(topPro, 'xl')"
                data-bs-toggle="tab"
                data-bs-target="#home"
                type="button"
                role="tab"
                aria-controls="home"
                aria-selected="true"
              >
                XL
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button
                (click)="filterSizeTop(topPro, 'l')"
                class="nav-link navLinkAll border-0"
                id="{{ 'l' + i }}"
                data-bs-toggle="tab"
                data-bs-target="#profile"
                type="button"
                role="tab"
                aria-controls="profile"
                aria-selected="false"
              >
                L
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button
                (click)="filterSizeTop(topPro, 'm')"
                class="nav-link navLinkAll border-0"
                id="{{ 'm' + i }}"
                data-bs-toggle="tab"
                data-bs-target="#contact"
                type="button"
                role="tab"
                aria-controls="contact"
                aria-selected="false"
              >
                M
              </button>
            </li>
          </ul>
          <button
            class="mt-3 btn btn-sm btn-theme1 px-3 py-1"
            data-bs-toggle="offcanvas"
            data-bs-target="#offcanvasExample"
            (click)="addToCart(topPro)"
          >
            Add to Cart
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="row gx-3 gy-2">
    <div class="col-sm-12 text-center">
      <h5 class="mt-3 font600 text-success">Popular Products</h5>
    </div>
    <div
      class="col-sm-3 col-6"
      *ngFor="let popPro of popularProducts; let i = index"
    >
      <div class="card border-0">
        <a
          title="{{ popPro.desc }}"
          href="javascript:void(0)"
          (click)="detailsPage(popPro)"
          routerLink="/product-details"
        >
          <img
            src="../../assets/images/details_slider/{{ popPro.imgs[0] }}"
            class="img-fluid"
            alt=""
        /></a>
        <div class="card-body border-0 text-center">
          <h6 class="card-title mb-1">{{ popPro.desc }}</h6>
          <p class="text-center mb-0">
            <span class="text-decoration-line-through text-secondary mrPrice">{{
              popPro.showPopMrp | currency : "INR"
            }}</span>
            <span class="productPrice">
              {{ popPro.showPopPrice | currency : "INR" }}</span
            >
            <span class="text-danger font600"> {{ popPro.offer }}% off</span>
          </p>
          <p class="mb-1">
            <span class="fw-bold font9">Available Sizes :</span>
            <span class=""> {{ popPro.TitleSizes }}</span>
          </p>
          <ul
            class="nav nav-tabs mb-0 border-0 sizes justify-content-center"
            id="myTab"
            role="tablist"
          >
            <li class="nav-item" role="presentation">
              <button
                class="nav-link navLinkAll border-0 active"
                id="{{ 'xl' + i }}"
                (click)="filterSizePop(popPro, 'xl')"
                data-bs-toggle="tab"
                data-bs-target="#home"
                type="button"
                role="tab"
                aria-controls="home"
                aria-selected="true"
              >
                XL
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button
                (click)="filterSizePop(popPro, 'l')"
                class="nav-link navLinkAll border-0"
                id="{{ 'l' + i }}"
                data-bs-toggle="tab"
                data-bs-target="#profile"
                type="button"
                role="tab"
                aria-controls="profile"
                aria-selected="false"
              >
                L
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button
                (click)="filterSizePop(popPro, 'm')"
                class="nav-link navLinkAll border-0"
                id="{{ 'm' + i }}"
                data-bs-toggle="tab"
                data-bs-target="#contact"
                type="button"
                role="tab"
                aria-controls="contact"
                aria-selected="false"
              >
                M
              </button>
            </li>
          </ul>
          <button
            class="mt-3 btn btn-sm btn-theme1 px-3 py-1"
            data-bs-toggle="offcanvas"
            data-bs-target="#offcanvasExample"
            (click)="addToCart(popPro)"
          >
            Add to Cart
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- <input type="text" #inputtext />
<button (click)="getInputInfo(inputtext)">btn</button> -->
<app-footer></app-footer>

<!-- Modal clear all starts here -->
<div
  class="modal fade"
  id="clearModal"
  tabindex="-1"
  aria-labelledby="staticBackdropLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body text-center py-4">
        <div for="text-center">
          <p class="mb-2">Are you sure you want to clear all products?</p>
          <p class="mb-0">
            <button
              data-bs-dismiss="modal"
              (click)="clearCart()"
              class="btn btn-sm btn-theme1 px-3 me-2"
            >
              Yes
            </button>
            <button data-bs-dismiss="modal" class="btn btn-sm btn-theme2 px-3">
              No
            </button>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Modal clear all ends here -->

<!-- Offcanvas starts here -->
<div
  id="cartCanvas"
  class="offcanvas offcanvas-end"
  tabindex="-1"
  id="offcanvasExample"
  aria-labelledby="offcanvasExampleLabel"
>
  <div class="offcanvas-header px-3 py-2">
    <h4 class="offcanvas-title font700 text-theme" id="offcanvasExampleLabel">
      My Cart
    </h4>
    <button
      type="button"
      class="btn-close btn-sm"
      data-bs-dismiss="offcanvas"
      aria-label="Close"
    ></button>
  </div>
  <div class="offcanvas-body" *ngIf="cartProducts.length > 0">
    <div class="row gy-2 mb-2">
      <div
        class="col-sm-12"
        *ngFor="let cartPro of cartProducts; let i = index"
      >
        <div class="card shadow-none">
          <div class="card-body">
            <div class="row justify-content-between align-items-center">
              <div class="col-sm-12">
                <p class="font600 font9 mb-2">{{ cartPro.desc }}</p>
              </div>
              <div class="col-sm-9">
                <div class="row align-items-center">
                  <div class="col-sm-4">
                    <input
                      id="q{{ i }}"
                      (change)="changeQuant($event, cartPro)"
                      min="1"
                      type="number"
                      [(ngModel)]="cartPro.quantity"
                      class="form-control3"
                    />
                  </div>
                  <div class="col-sm-8">
                    <p class="font9 mb-0">
                      {{ cartPro.price | currency : "INR" }} x
                      {{ cartPro.quantity }} =
                      {{ cartPro.cartPrice | currency : "INR" }}
                    </p>
                  </div>
                </div>
              </div>
              <div class="col-sm-3">
                <button
                  class="btn btn-sm btn-theme2"
                  (click)="removeItem(i, cartPro)"
                >
                  Remove
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="d-flex justify-content-between">
      <p class="mb-0">
        <button data-bs-dismiss="offcanvas" class="btn btn-sm btn-theme1">
          Add more
        </button>
        <button
          class="ms-2 btn btn-theme2 btn-sm"
          data-bs-toggle="modal"
          data-bs-target="#clearModal"
        >
          Clear all
        </button>
      </p>
      <p class="mb-0">
        <span class="fw-bold">Total Amount : </span>
        <span class="text-success">{{ totalPrice | currency : "INR" }}</span>
      </p>
    </div>
    <div class="text-center my-3">
      <button
        (click)="goToCart()"
        routerLink="/cart"
        class="btn-sm btn btn-theme1"
      >
        Go to Cart
      </button>
    </div>
  </div>
  <div class="offcanvas-body" *ngIf="cartProducts.length == 0">
    <label class="mb-2" for="">Your cart is empty :)</label>
    <p>
      <button data-bs-dismiss="offcanvas" class="btn btn-sm btn-theme1">
        Shop now
      </button>
    </p>
  </div>
</div>
<!-- Offcanvas ends here -->
